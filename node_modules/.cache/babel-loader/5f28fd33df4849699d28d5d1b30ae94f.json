{"ast":null,"code":"import _classCallCheck from \"/usr/local/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/usr/local/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/usr/local/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/usr/local/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/usr/local/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/usr/local/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/wenyanli/Downloads/MyPHR_Portal-master-2/src/components/Edit/basicInfo.js\";\nimport React, { Component } from \"react\";\nimport \"../../App.css\";\nimport { userService } from \"../../service\";\nimport { ButtonToolbar, Button } from \"react-bootstrap\";\nconsole.log(JSON.parse(localStorage.getItem(\"oneUser\")));\n/* components */\n\nvar BasicInfo =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(BasicInfo, _React$Component);\n\n  function BasicInfo(props, context) {\n    var _this;\n\n    _classCallCheck(this, BasicInfo);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(BasicInfo).call(this, props, context));\n    _this.TOKEN = JSON.parse(localStorage.getItem(\"oneUser\")).token;\n    var clientToEdit = JSON.parse(localStorage.getItem(\"basicInfo\"));\n    _this.state = {\n      basic: {\n        client_id: clientToEdit.client_id,\n        firstname: clientToEdit.firstname,\n        surname: clientToEdit.surname,\n        dob: clientToEdit.dob,\n        gender: clientToEdit.gender,\n        last_access_date: clientToEdit.last_access_date,\n        service_language: clientToEdit.service_language,\n        hcn: clientToEdit.hcn,\n        name: clientToEdit.name,\n        start_date: clientToEdit.start_date\n      },\n      isEditBasic: false,\n      ///remove from state\n      newLanguage: clientToEdit.service_language\n    }; //TO BE FIXED: cancel has problem!!!\n\n    _this.editCancel = _this.editCancel.bind(_assertThisInitialized(_this));\n    _this.editBasic = _this.editBasic.bind(_assertThisInitialized(_this));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(BasicInfo, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setState({//client: JSON.parse(localStorage.getItem(\"client\")),\n        //language: JSON.parse(localStorage.getItem(\"client\")).service_language\n      });\n    }\n  }, {\n    key: \"editBasic\",\n    value: function editBasic() {\n      this.setState({\n        isEditBasic: true\n      });\n    }\n  }, {\n    key: \"editCancel\",\n    value: function editCancel() {\n      this.setState({\n        isEditBasic: false\n      });\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      this.setState({\n        /*\n        basic: {\n          ...this.state.basic,\n          service_language: event.target.value\n        },\n        */\n        newLanguage: event.target.value\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      event.preventDefault();\n      this.setState({\n        isEditBasic: false\n      });\n      userService.updateLanguage(this.state.basic.client_id, this.TOKEN, this.state.newLanguage);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state$basic = this.state.basic,\n          firstname = _this$state$basic.firstname,\n          surname = _this$state$basic.surname,\n          dob = _this$state$basic.dob,\n          gender = _this$state$basic.gender,\n          last_access_date = _this$state$basic.last_access_date,\n          service_language = _this$state$basic.service_language;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, !this.state.isEditBasic ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \" \", React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, firstname, \" \", surname)), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"Date of Birth:\"), \" \", dob), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \" \", React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"Gender: \"), gender), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \" \", React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"Service Language: \"), \" \", service_language), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \" \", React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \"Last Access: \"), last_access_date), React.createElement(Button, {\n        variant: \"secondary\",\n        onClick: this.editBasic,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \"Edit\")) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, firstname, \" \", surname)), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \"Date of Birth:\"), \" \", dob), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, \"Gender:\"), \" \", gender), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"Service Language:\"), \" \", React.createElement(\"select\", {\n        value: this.state.newLanguage,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"English\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, \"English\"), React.createElement(\"option\", {\n        value: \"French\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \"French\"))), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"Last Access:\"), \" \", last_access_date), React.createElement(ButtonToolbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"secondary\",\n        onClick: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, \"Save\"), React.createElement(Button, {\n        variant: \"secondary\",\n        onClick: this.editCancel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, \"Cancel\"))));\n    }\n  }]);\n\n  return BasicInfo;\n}(React.Component);\n\nexport default BasicInfo;","map":{"version":3,"sources":["/Users/wenyanli/Downloads/MyPHR_Portal-master-2/src/components/Edit/basicInfo.js"],"names":["React","Component","userService","ButtonToolbar","Button","console","log","JSON","parse","localStorage","getItem","BasicInfo","props","context","TOKEN","token","clientToEdit","state","basic","client_id","firstname","surname","dob","gender","last_access_date","service_language","hcn","name","start_date","isEditBasic","newLanguage","editCancel","bind","editBasic","handleChange","handleSubmit","setState","event","target","value","preventDefault","updateLanguage"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"../../App.css\";\nimport { userService } from \"../../service\";\nimport { ButtonToolbar, Button } from \"react-bootstrap\";\n\nconsole.log(JSON.parse(localStorage.getItem(\"oneUser\")));\n\n/* components */\nclass BasicInfo extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n    const clientToEdit = JSON.parse(localStorage.getItem(\"basicInfo\"));\n    this.state = {\n      basic: {\n        client_id: clientToEdit.client_id,\n        firstname: clientToEdit.firstname,\n        surname: clientToEdit.surname,\n        dob: clientToEdit.dob,\n        gender: clientToEdit.gender,\n        last_access_date: clientToEdit.last_access_date,\n        service_language: clientToEdit.service_language,\n        hcn: clientToEdit.hcn,\n        name: clientToEdit.name,\n        start_date: clientToEdit.start_date\n      },\n      isEditBasic: false, ///remove from state\n      newLanguage: clientToEdit.service_language\n    };\n\n    //TO BE FIXED: cancel has problem!!!\n    this.editCancel = this.editCancel.bind(this);\n    this.editBasic = this.editBasic.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({\n      //client: JSON.parse(localStorage.getItem(\"client\")),\n      //language: JSON.parse(localStorage.getItem(\"client\")).service_language\n    });\n  }\n  editBasic() {\n    this.setState({\n      isEditBasic: true\n    });\n  }\n  editCancel() {\n    this.setState({\n      isEditBasic: false\n    });\n  }\n  handleChange(event) {\n    this.setState({\n      /*\n      basic: {\n        ...this.state.basic,\n        service_language: event.target.value\n      },\n      */\n      newLanguage: event.target.value\n    });\n  }\n  TOKEN = JSON.parse(localStorage.getItem(\"oneUser\")).token;\n  handleSubmit(event) {\n    event.preventDefault();\n    this.setState({\n      isEditBasic: false\n    });\n    userService.updateLanguage(\n      this.state.basic.client_id,\n      this.TOKEN,\n      this.state.newLanguage\n    );\n  }\n  render() {\n    const {\n      firstname,\n      surname,\n      dob,\n      gender,\n      last_access_date,\n      service_language\n    } = this.state.basic;\n    return (\n      <div>\n        {!this.state.isEditBasic ? (\n          <div>\n            <p>\n              {\" \"}\n              <strong>\n                {firstname} {surname}\n              </strong>\n            </p>\n            <p>\n              <strong>Date of Birth:</strong> {dob}\n            </p>\n            <p>\n              {\" \"}\n              <strong>Gender: </strong>\n              {gender}\n            </p>\n            <p>\n              {\" \"}\n              <strong>Service Language: </strong> {service_language}\n            </p>\n            <p>\n              {\" \"}\n              <strong>Last Access: </strong>\n              {last_access_date}\n            </p>\n\n            <Button variant=\"secondary\" onClick={this.editBasic}>\n              Edit\n            </Button>\n          </div>\n        ) : (\n          <div>\n            <p>\n              <strong>\n                {firstname} {surname}\n              </strong>\n            </p>\n            <p>\n              <strong>Date of Birth:</strong> {dob}\n            </p>\n            <p>\n              <strong>Gender:</strong> {gender}\n            </p>\n            <p>\n              <strong>Service Language:</strong>{\" \"}\n              <select\n                value={this.state.newLanguage}\n                onChange={this.handleChange}\n              >\n                <option value=\"English\">English</option>\n                <option value=\"French\">French</option>\n              </select>\n            </p>\n            <p>\n              <strong>Last Access:</strong> {last_access_date}\n            </p>\n            <ButtonToolbar>\n              <Button variant=\"secondary\" onClick={this.handleSubmit}>\n                Save\n              </Button>\n              <Button variant=\"secondary\" onClick={this.editCancel}>\n                Cancel\n              </Button>\n            </ButtonToolbar>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default BasicInfo;\n"]},"metadata":{},"sourceType":"module"}