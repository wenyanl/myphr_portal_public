{"ast":null,"code":"import _objectSpread from \"/Users/wenyanli/Desktop/MyPHR_Portal/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/wenyanli/Desktop/MyPHR_Portal/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wenyanli/Desktop/MyPHR_Portal/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/wenyanli/Desktop/MyPHR_Portal/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/wenyanli/Desktop/MyPHR_Portal/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/wenyanli/Desktop/MyPHR_Portal/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/wenyanli/Desktop/MyPHR_Portal/src/components/Login/googleLogin.js\";\nimport React, { Component } from \"react\";\nimport { GoogleLogin } from \"react-google-login\";\nimport { userService } from \"../../service\";\n/**\n * component for google oauth\n * interface for creating a new user\n * no implementation of creating new users on api side yet\n */\n\nvar GOOGLE_CLIENT_ID = \"815948051102-phukld82ajlo50r9i5kue5arhmp4hclr.apps.googleusercontent.com\";\n\nvar OAuth =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(OAuth, _Component);\n\n  function OAuth() {\n    var _this;\n\n    _classCallCheck(this, OAuth);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(OAuth).call(this));\n\n    _this.logout = function () {\n      _this.setState({\n        isAuthenticated: false,\n        client: null\n      });\n    };\n\n    _this.onFailure = function (error) {\n      alert(error);\n    };\n\n    _this.googleResponse = function (response) {\n      _this.setState({\n        client: _objectSpread({}, _this.state.client, {\n          client_id: response.googleID,\n          token: response.access_token\n        })\n      });\n    };\n\n    _this.state = {\n      isAuthenticated: false,\n      client: {\n        client_id: \"\",\n        token: \"\",\n        name: \"\"\n      }\n    };\n    return _this;\n  }\n\n  _createClass(OAuth, [{\n    key: \"render\",\n    value: function render() {\n      var content = !!this.state.isAuthenticated ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \"Authenticated\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, this.state.client.client_id), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.logout,\n        className: \"button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, \"Log out\"))) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(GoogleLogin, {\n        clientId: GOOGLE_CLIENT_ID,\n        buttonText: \"Login with Google\",\n        onSuccess: this.googleResponse,\n        onFailure: this.onFailure,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }));\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, content);\n    }\n  }]);\n\n  return OAuth;\n}(Component);\n\nexport default OAuth;","map":{"version":3,"sources":["/Users/wenyanli/Desktop/MyPHR_Portal/src/components/Login/googleLogin.js"],"names":["React","Component","GoogleLogin","userService","GOOGLE_CLIENT_ID","OAuth","logout","setState","isAuthenticated","client","onFailure","error","alert","googleResponse","response","state","client_id","googleID","token","access_token","name","content"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,WAAT,QAA4B,oBAA5B;AACA,SAASC,WAAT,QAA4B,eAA5B;AAEA;;;;;;AAKA,IAAMC,gBAAgB,GACpB,0EADF;;IAEMC,K;;;;;AACJ,mBAAc;AAAA;;AAAA;;AACZ;;AADY,UAadC,MAbc,GAaL,YAAM;AACb,YAAKC,QAAL,CAAc;AAAEC,QAAAA,eAAe,EAAE,KAAnB;AAA0BC,QAAAA,MAAM,EAAE;AAAlC,OAAd;AACD,KAfa;;AAAA,UAiBdC,SAjBc,GAiBF,UAAAC,KAAK,EAAI;AACnBC,MAAAA,KAAK,CAACD,KAAD,CAAL;AACD,KAnBa;;AAAA,UAqBdE,cArBc,GAqBG,UAAAC,QAAQ,EAAI;AAC3B,YAAKP,QAAL,CAAc;AACZE,QAAAA,MAAM,oBACD,MAAKM,KAAL,CAAWN,MADV;AAEJO,UAAAA,SAAS,EAAEF,QAAQ,CAACG,QAFhB;AAGJC,UAAAA,KAAK,EAAEJ,QAAQ,CAACK;AAHZ;AADM,OAAd;AAOD,KA7Ba;;AAGZ,UAAKJ,KAAL,GAAa;AACXP,MAAAA,eAAe,EAAE,KADN;AAEXC,MAAAA,MAAM,EAAE;AACNO,QAAAA,SAAS,EAAE,EADL;AAENE,QAAAA,KAAK,EAAE,EAFD;AAGNE,QAAAA,IAAI,EAAE;AAHA;AAFG,KAAb;AAHY;AAWb;;;;6BAoBQ;AACP,UAAIC,OAAO,GAAG,CAAC,CAAC,KAAKN,KAAL,CAAWP,eAAb,GACZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAM,KAAKO,KAAL,CAAWN,MAAX,CAAkBO,SAAxB,CAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAQ,QAAA,OAAO,EAAE,KAAKV,MAAtB;AAA8B,QAAA,SAAS,EAAC,QAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,CAHF,CADY,GAWZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,WAAD;AACE,QAAA,QAAQ,EAAEF,gBADZ;AAEE,QAAA,UAAU,EAAC,mBAFb;AAGE,QAAA,SAAS,EAAE,KAAKS,cAHlB;AAIE,QAAA,SAAS,EAAE,KAAKH,SAJlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAXF;AAqBA,aAAO;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAsBW,OAAtB,CAAP;AACD;;;;EAvDiBpB,S;;AAyDpB,eAAeI,KAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { GoogleLogin } from \"react-google-login\";\nimport { userService } from \"../../service\";\n\n/**\n * component for google oauth\n * interface for creating a new user\n * no implementation of creating new users on api side yet\n */\nconst GOOGLE_CLIENT_ID =\n  \"815948051102-phukld82ajlo50r9i5kue5arhmp4hclr.apps.googleusercontent.com\";\nclass OAuth extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      isAuthenticated: false,\n      client: {\n        client_id: \"\",\n        token: \"\",\n        name: \"\"\n      }\n    };\n  }\n\n  logout = () => {\n    this.setState({ isAuthenticated: false, client: null });\n  };\n\n  onFailure = error => {\n    alert(error);\n  };\n\n  googleResponse = response => {\n    this.setState({\n      client: {\n        ...this.state.client,\n        client_id: response.googleID,\n        token: response.access_token\n      }\n    });\n  };\n\n  render() {\n    let content = !!this.state.isAuthenticated ? (\n      <div>\n        <p>Authenticated</p>\n        <div>{this.state.client.client_id}</div>\n        <div>\n          <button onClick={this.logout} className=\"button\">\n            Log out\n          </button>\n        </div>\n      </div>\n    ) : (\n      <div>\n        <GoogleLogin\n          clientId={GOOGLE_CLIENT_ID}\n          buttonText=\"Login with Google\"\n          onSuccess={this.googleResponse}\n          onFailure={this.onFailure}\n        />\n      </div>\n    );\n\n    return <div className=\"App\">{content}</div>;\n  }\n}\nexport default OAuth;\n"]},"metadata":{},"sourceType":"module"}