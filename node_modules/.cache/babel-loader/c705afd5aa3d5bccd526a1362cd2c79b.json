{"ast":null,"code":"import _classCallCheck from \"/Users/wenyanli/Downloads/MyPHR_Portal-master-2/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wenyanli/Downloads/MyPHR_Portal-master-2/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/wenyanli/Downloads/MyPHR_Portal-master-2/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/wenyanli/Downloads/MyPHR_Portal-master-2/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/wenyanli/Downloads/MyPHR_Portal-master-2/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/wenyanli/Downloads/MyPHR_Portal-master-2/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/wenyanli/Downloads/MyPHR_Portal-master-2/src/components/Edit/editCaregiverContact.js\";\nimport React, { Component } from \"react\";\nimport \"../../App.css\";\nimport { userService } from \"../../service\";\nimport { ButtonToolbar, Button } from \"react-bootstrap\";\n\nvar EditCaregiverContact =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(EditCaregiverContact, _React$Component);\n\n  function EditCaregiverContact(props, context) {\n    var _this;\n\n    _classCallCheck(this, EditCaregiverContact);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EditCaregiverContact).call(this, props, context));\n    _this.TOKEN = JSON.parse(localStorage.getItem(\"oneUser\")).token;\n    _this.ID = JSON.parse(localStorage.getItem(\"oneUser\")).client_id;\n    var clientToEdit = JSON.parse(localStorage.getItem(\"caregiverContactInfo\"));\n    _this.state = {\n      caregiverAddresses: clientToEdit[0][1],\n      caregiverPhones: clientToEdit[1][1],\n      caregiverEmails: clientToEdit[2][1],\n      homeAddress: {},\n      mailingAddress: {},\n      otherAddress: {},\n      homePhone: {},\n      cellPhone: {},\n      //new input values:\n      newMA: {},\n      newOA: {},\n      newHP: {},\n      newCP: {},\n      newEmail: {},\n      newHA: {},\n      errors: {}\n    };\n    _this.handleHAChange = _this.handleHAChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handlePhoneChange = _this.handlePhoneChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleOAChange = _this.handleOAChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleMAChange = _this.handleMAChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleHPChange = _this.handleHPChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(EditCaregiverContact, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var ha = this.state.caregiverAddresses.filter(function (word) {\n        return word.type == \"home\";\n      });\n\n      if (ha.length != 0) {\n        this.setState({\n          homeAddress: ha[0].address,\n          newHA: ha[0].address\n        });\n      } else {\n        this.setState({\n          homeAddress: ha[0],\n          newHA: ha[0]\n        });\n      }\n\n      var ma = this.state.caregiverAddresses.filter(function (word) {\n        return word.type == \"mailing\";\n      });\n\n      if (ma.length != 0) {\n        this.setState({\n          mailingAddress: ma[0].address,\n          newMA: ma[0].address\n        });\n      } else {\n        this.setState({\n          mailingAddress: ma[0],\n          newMA: ma[0]\n        });\n      }\n\n      var oa = this.state.caregiverAddresses.filter(function (word) {\n        return word.type == \"other\";\n      });\n\n      if (oa.length != 0) {\n        this.setState({\n          otherAddress: oa[0].address,\n          newOA: oa[0].address\n        });\n      } else {\n        this.setState({\n          otherAddress: oa[0],\n          newOA: oa[0]\n        });\n      }\n\n      var cp = this.state.caregiverPhones.filter(function (word) {\n        return word.type == \"cell\";\n      });\n\n      if (cp.length != 0) {\n        this.setState({\n          cellPhone: \"+\" + cp[0].country_code + \" \" + cp[0].number,\n          newCP: \"+\" + cp[0].country_code + \" \" + cp[0].number\n        }); ///IF Differnet code????????\n      } else {\n        this.setState({\n          cellPhone: cp[0],\n          newCP: cp[0]\n        }); ///IF Differnet code????????\n      }\n\n      var hp = this.state.caregiverPhones.filter(function (word) {\n        return word.type == \"home\";\n      });\n\n      if (hp.length != 0) {\n        this.setState({\n          homePhone: \"+\" + hp[0].country_code + \" \" + hp[0].number,\n          newHP: \"+\" + hp[0].country_code + \" \" + hp[0].number\n        });\n      } else {\n        this.setState({\n          homePhone: hp[0],\n          newHP: hp[0]\n        });\n      }\n\n      this.setState({\n        newEmail: this.state.caregiverEmails\n      });\n    } //handle phone number change\n\n  }, {\n    key: \"handlePhoneChange\",\n    value: function handlePhoneChange(value) {\n      this.setState({\n        newCP: value\n      });\n    }\n  }, {\n    key: \"handleHPChange\",\n    value: function handleHPChange(value) {\n      this.setState({\n        newHP: value\n      });\n    } //handle addresses change\n\n  }, {\n    key: \"handleMAChange\",\n    value: function handleMAChange(event) {\n      this.setState({\n        newMA: event.target.value\n      });\n    }\n  }, {\n    key: \"handleOAChange\",\n    value: function handleOAChange(event) {\n      this.setState({\n        newOA: event.target.value\n      });\n    }\n  }, {\n    key: \"handleHAChange\",\n    value: function handleHAChange(event) {\n      this.setState({\n        newHA: event.target.value\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit() {\n      //mailing address\n      if (this.state.newMA == this.state.mailingAddress) {} else {\n        userService.editCaregiverContacts(this.ID, this.TOKEN, \"address\", this.state.newMA, \"mailing\", this.props.is_primary);\n        this.setState({\n          mailingAddress: this.state.newMA\n        });\n      } //other address\n\n\n      if (this.state.newOA == this.state.otherAddress) {} else {\n        userService.editCaregiverContacts(this.ID, this.TOKEN, \"address\", this.state.newOA, \"other\");\n        this.setState({\n          otherAddress: this.state.newOA\n        });\n      } //cell phone\n\n\n      if (this.state.newCP == this.state.cellPhone) {} else {\n        userService.editCaregiverContacts(this.ID, this.TOKEN, \"phone\", this.state.newCP, \"cell\");\n        this.setState({\n          cellPhone: this.state.newCP\n        });\n      } //home phone\n\n\n      if (this.state.newHP == this.state.homePhone) {} else {\n        userService.editCaregiverContacts(this.ID, this.TOKEN, \"phone\", this.state.newHP, \"home\");\n        this.setState({\n          homePhone: this.state.newHP\n        });\n      } //email\n\n\n      if (this.state.newEmail == this.state.emailInfo) {} else {\n        userService.editCaregiverContacts(this.ID, this.TOKEN, \"email\", this.state.newEmail, \"main\");\n        this.setState({\n          emailInfo: this.state.newEmail\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, \" Home Address: \"), \" \", React.createElement(\"input\", {\n        placeholder: \"home address\",\n        value: this.state.newHA || \"\",\n        onChange: this.handleHAChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      })), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, \" Mailing Address:\"), \" \", React.createElement(\"input\", {\n        placeholder: \"mailing address\",\n        value: this.state.newMA || \"\",\n        onChange: this.handleMAChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      })), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, \"Cell Phone: \"), React.createElement(\"input\", {\n        placeholder: \"cell phone\",\n        value: this.state.newCP || \"\",\n        onChange: this.handlePhoneChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      })), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, \" Home Phone:\"), \" \", React.createElement(\"input\", {\n        placeholder: \"home phone\",\n        value: this.state.newHP || \"\",\n        onChange: this.handleHPChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      })), React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, \" Email:\"), React.createElement(\"input\", {\n        type: \"email\",\n        value: this.state.newEmail,\n        onChange: this.handleEChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return EditCaregiverContact;\n}(React.Component);\n\nexport default EditCaregiverContact;","map":{"version":3,"sources":["/Users/wenyanli/Downloads/MyPHR_Portal-master-2/src/components/Edit/editCaregiverContact.js"],"names":["React","Component","userService","ButtonToolbar","Button","EditCaregiverContact","props","context","TOKEN","JSON","parse","localStorage","getItem","token","ID","client_id","clientToEdit","state","caregiverAddresses","caregiverPhones","caregiverEmails","homeAddress","mailingAddress","otherAddress","homePhone","cellPhone","newMA","newOA","newHP","newCP","newEmail","newHA","errors","handleHAChange","bind","handlePhoneChange","handleOAChange","handleMAChange","handleHPChange","handleSubmit","ha","filter","word","type","length","setState","address","ma","oa","cp","country_code","number","hp","value","event","target","editCaregiverContacts","is_primary","emailInfo","handleEChange"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"../../App.css\";\nimport { userService } from \"../../service\";\nimport { ButtonToolbar, Button } from \"react-bootstrap\";\n\nclass EditCaregiverContact extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n    const clientToEdit = JSON.parse(\n      localStorage.getItem(\"caregiverContactInfo\")\n    );\n    this.state = {\n      caregiverAddresses: clientToEdit[0][1],\n      caregiverPhones: clientToEdit[1][1],\n      caregiverEmails: clientToEdit[2][1],\n      homeAddress: {},\n      mailingAddress: {},\n      otherAddress: {},\n      homePhone: {},\n      cellPhone: {},\n\n      //new input values:\n      newMA: {},\n      newOA: {},\n      newHP: {},\n      newCP: {},\n      newEmail: {},\n      newHA: {},\n      errors: {}\n    };\n    this.handleHAChange = this.handleHAChange.bind(this);\n    this.handlePhoneChange = this.handlePhoneChange.bind(this);\n    this.handleOAChange = this.handleOAChange.bind(this);\n    this.handleMAChange = this.handleMAChange.bind(this);\n    this.handleHPChange = this.handleHPChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  componentDidMount() {\n    const ha = this.state.caregiverAddresses.filter(\n      word => word.type == \"home\"\n    );\n    if (ha.length != 0) {\n      this.setState({ homeAddress: ha[0].address, newHA: ha[0].address });\n    } else {\n      this.setState({ homeAddress: ha[0], newHA: ha[0] });\n    }\n\n    const ma = this.state.caregiverAddresses.filter(\n      word => word.type == \"mailing\"\n    );\n    if (ma.length != 0) {\n      this.setState({ mailingAddress: ma[0].address, newMA: ma[0].address });\n    } else {\n      this.setState({ mailingAddress: ma[0], newMA: ma[0] });\n    }\n\n    const oa = this.state.caregiverAddresses.filter(\n      word => word.type == \"other\"\n    );\n    if (oa.length != 0) {\n      this.setState({ otherAddress: oa[0].address, newOA: oa[0].address });\n    } else {\n      this.setState({ otherAddress: oa[0], newOA: oa[0] });\n    }\n\n    const cp = this.state.caregiverPhones.filter(word => word.type == \"cell\");\n    if (cp.length != 0) {\n      this.setState({\n        cellPhone: \"+\" + cp[0].country_code + \" \" + cp[0].number,\n        newCP: \"+\" + cp[0].country_code + \" \" + cp[0].number\n      }); ///IF Differnet code????????\n    } else {\n      this.setState({ cellPhone: cp[0], newCP: cp[0] }); ///IF Differnet code????????\n    }\n\n    const hp = this.state.caregiverPhones.filter(word => word.type == \"home\");\n    if (hp.length != 0) {\n      this.setState({\n        homePhone: \"+\" + hp[0].country_code + \" \" + hp[0].number,\n        newHP: \"+\" + hp[0].country_code + \" \" + hp[0].number\n      });\n    } else {\n      this.setState({ homePhone: hp[0], newHP: hp[0] });\n    }\n\n    this.setState({ newEmail: this.state.caregiverEmails });\n  }\n  //handle phone number change\n  handlePhoneChange(value) {\n    this.setState({\n      newCP: value\n    });\n  }\n  handleHPChange(value) {\n    this.setState({\n      newHP: value\n    });\n  }\n  //handle addresses change\n  handleMAChange(event) {\n    this.setState({ newMA: event.target.value });\n  }\n  handleOAChange(event) {\n    this.setState({ newOA: event.target.value });\n  }\n  handleHAChange(event) {\n    this.setState({ newHA: event.target.value });\n  }\n\n  TOKEN = JSON.parse(localStorage.getItem(\"oneUser\")).token;\n  ID = JSON.parse(localStorage.getItem(\"oneUser\")).client_id;\n  handleSubmit() {\n    //mailing address\n    if (this.state.newMA == this.state.mailingAddress) {\n    } else {\n      userService.editCaregiverContacts(\n        this.ID,\n        this.TOKEN,\n        \"address\",\n        this.state.newMA,\n        \"mailing\",\n        this.props.is_primary\n      );\n      this.setState({ mailingAddress: this.state.newMA });\n    }\n\n    //other address\n    if (this.state.newOA == this.state.otherAddress) {\n    } else {\n      userService.editCaregiverContacts(\n        this.ID,\n        this.TOKEN,\n        \"address\",\n        this.state.newOA,\n        \"other\"\n      );\n      this.setState({ otherAddress: this.state.newOA });\n    }\n\n    //cell phone\n    if (this.state.newCP == this.state.cellPhone) {\n    } else {\n      userService.editCaregiverContacts(\n        this.ID,\n        this.TOKEN,\n        \"phone\",\n        this.state.newCP,\n        \"cell\"\n      );\n      this.setState({ cellPhone: this.state.newCP });\n    }\n    //home phone\n    if (this.state.newHP == this.state.homePhone) {\n    } else {\n      userService.editCaregiverContacts(\n        this.ID,\n        this.TOKEN,\n        \"phone\",\n        this.state.newHP,\n        \"home\"\n      );\n      this.setState({ homePhone: this.state.newHP });\n    }\n\n    //email\n    if (this.state.newEmail == this.state.emailInfo) {\n    } else {\n      userService.editCaregiverContacts(\n        this.ID,\n        this.TOKEN,\n        \"email\",\n        this.state.newEmail,\n        \"main\"\n      );\n      this.setState({ emailInfo: this.state.newEmail });\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <li>\n          <strong> Home Address: </strong>{\" \"}\n          <input\n            placeholder=\"home address\"\n            value={this.state.newHA || \"\"}\n            onChange={this.handleHAChange}\n          />\n        </li>\n        <li>\n          <strong> Mailing Address:</strong>{\" \"}\n          <input\n            placeholder=\"mailing address\"\n            value={this.state.newMA || \"\"}\n            onChange={this.handleMAChange}\n          />\n        </li>\n        <li>\n          <strong>Cell Phone: </strong>\n          <input\n            placeholder=\"cell phone\"\n            value={this.state.newCP || \"\"}\n            onChange={this.handlePhoneChange}\n          />\n        </li>\n        <li>\n          <strong> Home Phone:</strong>{\" \"}\n          <input\n            placeholder=\"home phone\"\n            value={this.state.newHP || \"\"}\n            onChange={this.handleHPChange}\n          />\n        </li>\n        <strong> Email:</strong>\n        <input\n          type=\"email\"\n          value={this.state.newEmail}\n          onChange={this.handleEChange}\n        />\n      </div>\n    );\n  }\n}\n\nexport default EditCaregiverContact;\n"]},"metadata":{},"sourceType":"module"}