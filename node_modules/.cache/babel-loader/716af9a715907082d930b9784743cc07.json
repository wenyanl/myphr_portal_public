{"ast":null,"code":"import _classCallCheck from \"/Users/wenyanli/Desktop/MyPHR_Portal/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wenyanli/Desktop/MyPHR_Portal/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/wenyanli/Desktop/MyPHR_Portal/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/wenyanli/Desktop/MyPHR_Portal/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/wenyanli/Desktop/MyPHR_Portal/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/wenyanli/Desktop/MyPHR_Portal/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/wenyanli/Desktop/MyPHR_Portal/src/components/episodes.js\";\nimport React, { Component, Fragment } from \"react\";\nimport \"../App.css\";\nimport { VerticalTimeline, VerticalTimelineElement } from \"react-vertical-timeline-component\";\nimport \"react-vertical-timeline-component/style.min.css\";\nimport Scroll from \"react-scroll\";\nimport { userService } from \"../service\";\nvar Element = Scroll.Element;\nvar Events = Scroll.Events;\nvar scroll = Scroll.animateScroll;\nvar scrollSpy = Scroll.scrollSpy;\n\nvar Episodes =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Episodes, _React$Component);\n\n  function Episodes(props, context) {\n    var _this;\n\n    _classCallCheck(this, Episodes);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Episodes).call(this, props, context));\n    _this.state = {\n      key: \"home\",\n      episodes: [],\n      isLoading: true\n    };\n    _this.scrollToTop = _this.scrollToTop.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Episodes, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.setState({\n        user: JSON.parse(localStorage.getItem(\"oneUser\")),\n        basicInfo: JSON.parse(localStorage.getItem(\"basicInfo\"))\n      });\n      userService.getEpisodes(JSON.parse(localStorage.getItem(\"oneUser\")).client_id, JSON.parse(localStorage.getItem(\"oneUser\")).token, 1).then(function (data) {\n        return _this2.setState({\n          episodes: data.sort(_this2.comp),\n          isLoading: false\n        });\n      });\n      Events.scrollEvent.register(\"begin\", function () {\n        console.log(\"begin\", arguments);\n      });\n      Events.scrollEvent.register(\"end\", function () {\n        console.log(\"end\", arguments);\n      });\n      scrollSpy.update();\n    }\n  }, {\n    key: \"scrollToTop\",\n    value: function scrollToTop() {\n      scroll.scrollToTop();\n    } //convert date to \"Month Year\"\n\n  }, {\n    key: \"convert\",\n    value: function convert(str) {\n      var date = new Date(str),\n          month = (\"0\" + (date.getMonth() + 1)).slice(-2);\n      return [date.getFullYear(), month].join(\"-\");\n    }\n  }, {\n    key: \"convertFull\",\n    value: function convertFull(str) {\n      var date = new Date(str),\n          mnth = (\"0\" + (date.getMonth() + 1)).slice(-2),\n          day = (\"0\" + date.getDate()).slice(-2);\n      return [date.getFullYear(), mnth, day].join(\"-\");\n    } //sort JSON array by date\n\n  }, {\n    key: \"comp\",\n    value: function comp(b, a) {\n      return new Date(a.start_date).getTime() - new Date(b.end_date).getTime();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      Events.scrollEvent.remove(\"begin\");\n      Events.scrollEvent.remove(\"end\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$state = this.state,\n          episodes = _this$state.episodes,\n          isLoading = _this$state.isLoading;\n\n      if (isLoading) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, \"is loading...\");\n      } else {\n        return React.createElement(\"div\", {\n          class: \"episodes\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, React.createElement(Fragment, {\n          className: \"timeline-space\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }, React.createElement(Element, {\n          name: \"test7\",\n          className: \"element\",\n          id: \"containerElement\",\n          style: {\n            position: \"relative\",\n            height: \"600px\",\n            overflow: \"scroll\",\n            marginBottom: \"100px\",\n            border: \"0.1px solid white\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        }, episodes.map(function (item) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 106\n            },\n            __self: this\n          }, React.createElement(VerticalTimeline, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 107\n            },\n            __self: this\n          }, React.createElement(VerticalTimelineElement, {\n            className: \"vertical-timeline-element--work\",\n            date: _this3.convert(item.start_date),\n            iconStyle: {\n              background: \"rgb(33, 150, 243)\",\n              color: \"#fff\"\n            },\n            position: \"left\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 108\n            },\n            __self: this\n          }, React.createElement(\"h5\", {\n            className: \"vertical-timeline-element-title\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 117\n            },\n            __self: this\n          }, item.Healthcare_provider_name), React.createElement(\"ul\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 120\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 121\n            },\n            __self: this\n          }, item.is_active ? React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 123\n            },\n            __self: this\n          }, React.createElement(\"li\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 124\n            },\n            __self: this\n          }, _this3.convertFull(item.start_date))) : React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 127\n            },\n            __self: this\n          }, React.createElement(\"li\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 128\n            },\n            __self: this\n          }, _this3.convertFull(item.start_date), \" to\", \" \", _this3.convertFull(item.end_date)))), React.createElement(\"li\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 136\n            },\n            __self: this\n          }, item.reason), React.createElement(\"li\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 137\n            },\n            __self: this\n          }, \"Dr.\", item.physician_name)))));\n        }))));\n      }\n    }\n  }]);\n\n  return Episodes;\n}(React.Component);\n\nexport default Episodes;","map":{"version":3,"sources":["/Users/wenyanli/Desktop/MyPHR_Portal/src/components/episodes.js"],"names":["React","Component","Fragment","VerticalTimeline","VerticalTimelineElement","Scroll","userService","Element","Events","scroll","animateScroll","scrollSpy","Episodes","props","context","state","key","episodes","isLoading","scrollToTop","bind","setState","user","JSON","parse","localStorage","getItem","basicInfo","getEpisodes","client_id","token","then","data","sort","comp","scrollEvent","register","console","log","arguments","update","str","date","Date","month","getMonth","slice","getFullYear","join","mnth","day","getDate","b","a","start_date","getTime","end_date","remove","position","height","overflow","marginBottom","border","map","item","convert","background","color","Healthcare_provider_name","is_active","convertFull","reason","physician_name"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport \"../App.css\";\nimport {\n  VerticalTimeline,\n  VerticalTimelineElement\n} from \"react-vertical-timeline-component\";\nimport \"react-vertical-timeline-component/style.min.css\";\nimport Scroll from \"react-scroll\";\nimport { userService } from \"../service\";\n\nvar Element = Scroll.Element;\nvar Events = Scroll.Events;\nvar scroll = Scroll.animateScroll;\nvar scrollSpy = Scroll.scrollSpy;\n\nclass Episodes extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n    this.state = {\n      key: \"home\",\n      episodes: [],\n\n      isLoading: true\n    };\n    this.scrollToTop = this.scrollToTop.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({\n      user: JSON.parse(localStorage.getItem(\"oneUser\")),\n      basicInfo: JSON.parse(localStorage.getItem(\"basicInfo\"))\n    });\n\n    userService\n      .getEpisodes(\n        JSON.parse(localStorage.getItem(\"oneUser\")).client_id,\n        JSON.parse(localStorage.getItem(\"oneUser\")).token,\n        1\n      )\n      .then(data =>\n        this.setState({\n          episodes: data.sort(this.comp),\n          isLoading: false\n        })\n      );\n\n    Events.scrollEvent.register(\"begin\", function() {\n      console.log(\"begin\", arguments);\n    });\n\n    Events.scrollEvent.register(\"end\", function() {\n      console.log(\"end\", arguments);\n    });\n\n    scrollSpy.update();\n  }\n  scrollToTop() {\n    scroll.scrollToTop();\n  }\n  //convert date to \"Month Year\"\n  convert(str) {\n    var date = new Date(str),\n      month = (\"0\" + (date.getMonth() + 1)).slice(-2);\n    return [date.getFullYear(), month].join(\"-\");\n  }\n\n  convertFull(str) {\n    var date = new Date(str),\n      mnth = (\"0\" + (date.getMonth() + 1)).slice(-2),\n      day = (\"0\" + date.getDate()).slice(-2);\n    return [date.getFullYear(), mnth, day].join(\"-\");\n  }\n\n  //sort JSON array by date\n  comp(b, a) {\n    return new Date(a.start_date).getTime() - new Date(b.end_date).getTime();\n  }\n\n  componentWillUnmount() {\n    Events.scrollEvent.remove(\"begin\");\n    Events.scrollEvent.remove(\"end\");\n  }\n\n  render() {\n    const { episodes, isLoading } = this.state;\n\n    if (isLoading) {\n      return <div>is loading...</div>;\n    } else {\n      return (\n        <div class=\"episodes\">\n          <Fragment className=\"timeline-space\">\n            <Element\n              name=\"test7\"\n              className=\"element\"\n              id=\"containerElement\"\n              style={{\n                position: \"relative\",\n                height: \"600px\",\n                overflow: \"scroll\",\n                marginBottom: \"100px\",\n                border: \"0.1px solid white\"\n              }}\n            >\n              {episodes.map(item => (\n                <div>\n                  <VerticalTimeline>\n                    <VerticalTimelineElement\n                      className=\"vertical-timeline-element--work\"\n                      date={this.convert(item.start_date)}\n                      iconStyle={{\n                        background: \"rgb(33, 150, 243)\",\n                        color: \"#fff\"\n                      }}\n                      position={\"left\"}\n                    >\n                      <h5 className=\"vertical-timeline-element-title\">\n                        {item.Healthcare_provider_name}\n                      </h5>\n                      <ul>\n                        <div>\n                          {item.is_active ? (\n                            <div>\n                              <li>{this.convertFull(item.start_date)}</li>\n                            </div>\n                          ) : (\n                            <div>\n                              <li>\n                                {this.convertFull(item.start_date)} to{\" \"}\n                                {this.convertFull(item.end_date)}\n                              </li>\n                            </div>\n                          )}\n                        </div>\n\n                        <li>{item.reason}</li>\n                        <li>Dr.{item.physician_name}</li>\n                      </ul>\n                    </VerticalTimelineElement>\n                  </VerticalTimeline>\n                </div>\n              ))}\n            </Element>\n          </Fragment>\n        </div>\n      );\n    }\n  }\n}\nexport default Episodes;\n"]},"metadata":{},"sourceType":"module"}